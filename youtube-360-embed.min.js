'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var YouTube360Embed=function(){function a(){_classCallCheck(this,a),this.player=new YT.Player('iframe-youtube-player',{events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}return _createClass(a,[{key:'onPlayerReady',value:function onPlayerReady(b){this.videoData=b.target.getVideoData()}},{key:'onPlayerStateChange',value:function onPlayerStateChange(b){(b.data===YT.PlayerState.BUFFERING||b.data===YT.PlayerState.PLAYING)&&this.videoData&&!this.browserSupports360()&&(b.target.pauseVideo(),window.location='https://www.youtube.com/watch?v='+this.videoData.video_id+'&autoplay=1')}},{key:'browserSupports360',value:function browserSupports360(){var b=navigator.userAgent;return /Mobile/.test(b)||/Tablet/.test(b)?!1:!/Chrome\/[^123][0-9]/.test(b)||/Edge\//.test(b)||/OPR\//.test(b)?!!/Firefox\/[^123][0-9]/.test(b)||!!/Edge\//.test(b)||!!/OPR\/[^12][0-9]/.test(b):!0}}]),a}();function setupYouTube360Embed(){var a=document.createElement('script');a.id='iframe-youtube-player',a.src='https://www.youtube.com/iframe_api';var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b)}setupYouTube360Embed();function onYouTubeIframeAPIReady(){new YouTube360Embed}
